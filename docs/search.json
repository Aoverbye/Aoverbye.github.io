[
  {
    "objectID": "game_page.html",
    "href": "game_page.html",
    "title": "game_page",
    "section": "",
    "text": "library(shiny)\n\n# UI\nui &lt;- fluidPage(\n  titlePanel(\"Guess the Number Game\"),\n  sidebarLayout(\n    sidebarPanel(\n      numericInput(\"guess\", \"Enter a guess:\", min = 1, max = 100, value = 50),\n      actionButton(\"submit\", \"Submit Guess\"),\n      textOutput(\"result\")\n    ),\n    mainPanel(\n      textOutput(\"instructions\")\n    )\n  )\n)\n\n# Server logic\nserver &lt;- function(input, output, session) {\n  target_number &lt;- sample(1:100, 1)\n  \n  output$instructions &lt;- renderText({\n    \"Try to guess the target number between 1 and 100.\"\n  })\n  \n  observeEvent(input$submit, {\n    guess &lt;- input$guess\n    if(guess == target_number) {\n      output$result &lt;- renderText(\"Congrats! You guessed the number.\")\n    } else {\n      output$result &lt;- renderText(paste(\"Wrong! The target number was\", target_number))\n    }\n  })\n}\n\n# Run the application\nshinyApp(ui = ui, server = server)\n\nShiny applications not supported in static R Markdown documents"
  },
  {
    "objectID": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html",
    "href": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html",
    "title": "Analyzing the Relationship Between Rainfall and West Nile Virus Cases in LA County",
    "section": "",
    "text": "West Nile Virus (WNV) is the most common mosquito-transmitted virus in the United States. It is primarily spread through the bite of infected mosquitoes. Although most people who get infected with the virus experience mild symptoms, approximately 1 in 5 individuals will develop symptoms such as fever, headache, vomiting, or a rash (CDC, 2024). In rare cases, about 1 in 150 infected individuals will develop more serious conditions, such as encephalitis or meningitis, which can be life-threatening (CDC, 2024).\n\n\n\nPast studies suggest that weather patterns, specifically rainfall and temperature, can influence the incidence of WNV cases. Heavy rainfall, in particular, has been linked to an increase in the number of reported cases. For example, past research (Soverow et al., 2009) has shown that rainfall within a week can be associated with a 29–66% increase in the incidence of WNV in the following weeks. However, other studies indicate that temperature may be a stronger predictor than rainfall in determining the risk of infection (Shand et al., 2016).\nSomething of note in the Shand et al. paper is that they were looking at infection rates of mosquitoes, as opposed to human infections. With this, there may be different results because WNV so often does not have noticeable symptoms in people, there probably are more people infected than can be accounted for. Shand et. al. used a statistical linear regression with information about past weather events. In some models, they also used lagged previous infection cases as an independent variable to help predict future infections. Soverow, et al. used a conditional logistic regression in their analysis and also found results that even heavy rainfall within the past week can lead to higher WNV cases.\nFor this analysis, I decided to focus on Los Angeles County and analyze whether recent rainfall patterns correlate with WNV cases over 10 years from 2013 to 2023.\nNull Hypothesis (H₀): There is no relationship between precipitation and reported WNV cases.\nAlternative Hypothesis (H₁): Higher levels of rainfall will be associated with more reported WNV cases.\n\n\n\nThe data for this analysis comes from two sources:\nWest Nile Virus Cases: Reported by the California Department of Public Health, covering 2006 to 2024. https://data.chhs.ca.gov/dataset/west-nile-virus-cases-2006-present\nRainfall Data: Rainfall data for Arcadia, a city in LA County. This data was requested from NOAAs Climate Data Online: Dataset Discovery portal. https://www.ncei.noaa.gov/cdo-web/\n\n\n\n\n\nCode\n# Load in libraries\nlibrary(tidyverse)\nlibrary(here)\nlibrary(dplyr)\nlibrary(janitor)\nlibrary(lubridate)\n\n\n\n\nCode\n# Read in data\nwnv_cases &lt;- read_csv(here('blog_posts', '2024-13-2024-WNV_cases_in_LA', 'data', 'vendor.csv'))\narcadia &lt;- read_csv(here('blog_posts', '2024-13-2024-WNV_cases_in_LA', 'data', '3862608.csv'))\n\n\n\n\n\n\n\nRenaming Columns: Standardized column names for easier manipulation.\n\n\nCode\nwnv_cases &lt;- wnv_cases %&gt;% \n  rename(\n    year = 'Year', \n    week = 'Week', \n    county = 'County', \n    reported_positive_cases = 'Reported Positive Cases'\n  )\n\n\nFiltering Data: Focused analysis on Los Angeles County (2013–2023).\n\n\nCode\n# Filter for years and county\nwnv_cases_la &lt;- wnv_cases %&gt;% \n  filter(county == \"Los Angeles\", year &gt;= 2013, year &lt;= 2023)\n\n\n\n\n\nDate Processing: Extracted year and week number from daily rainfall data.\n\n\nCode\n# Extract week number \narcadia &lt;- arcadia %&gt;%\n  mutate(week = isoweek(DATE), year = year(DATE))\n\n\nWeekly Averages: Calculated average rainfall for each week.\n\n\nCode\n# Calculate average rainfall for week\narcadia_avg &lt;- arcadia %&gt;% \n  group_by(year, week) %&gt;% \n  summarize(avg_weekly_prcp = mean(PRCP, na.rm = TRUE))\n\n\n\n\n\n\nMerged rainfall and WNV cases data by year and week.\nMissing weeks in the WNV dataset were filled with 0 cases, assuming no cases were reported in those weeks.\n\n\n\nCode\n# Merge rainfall and WNV cases by year and week and make missing weeks 0\nwnv_precip &lt;- full_join(wnv_cases_la, arcadia_avg, by = c(\"year\", \"week\")) %&gt;% \n  mutate(\n    reported_positive_cases = replace_na(reported_positive_cases, 0),\n    county = replace_na(county, \"Los Angeles\")\n  )\n\n\n\n\n\n\n\n\nCode\nggplot(wnv_cases_la, aes(x = week, y = reported_positive_cases)) +\n  geom_smooth(method = \"lm\", color = \"navy\", se = FALSE) + \n  geom_point(color = \"firebrick\") +\n  theme_minimal() +\n  labs(\n    title = \"Reported West Nile Virus Cases by Week in Los Angeles County\",\n    x = \"Week of the Year\",\n    y = \"Number of Reported Cases\"\n  )\n\n\n\n\n\n\n\n\n\nExplanation Of Graph\nThis graph shows the number of reported cases of WNV throughout the ten year period. There was a spike in WNV cases in 2017 in LA County with 268 infections (up from 153 in 2016) and 27 deaths (up from 6 in 2016)(LACDPH, 2018). Before 2017, 2015 had been the most fatal year for WNV with 24 deaths (). The spike in cases happened in October, 2017 and with the most cases being reported week 41 (7. Oct - 13. Oct).\n1. Trends in Rainfall and WNV Cases\nVisualized weekly rainfall and WNV cases over time, grouped by year.\n\n\nCode\nggplot(wnv_precip, aes(x = week, group = year)) +\n  geom_line(aes(y = avg_weekly_prcp, color = \"Rainfall\"), size = 1) +\n  geom_line(aes(y = reported_positive_cases, color = \"WNV Cases\"), size = 1) +\n  facet_wrap(~ year) +\n  labs(\n    x = \"Week\",\n    y = \"Values\",\n    title = \"Weekly Rainfall and West Nile Virus Cases\",\n    color = \"Legend\"\n  ) +\n  scale_color_manual(values = c(\"Rainfall\" = \"navy\", \"WNV Cases\" = \"firebrick\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nExplanation Of Graph\nThis graph shows the amount of rainfall and the number of WNV cases per year. These graphs also show the spike in cases in 2017. Some experts attributed this spike in cases to an unusually wet winter (CDPH, 2017).\n\n\nCode\n# Filter the data for 2017\nwnv_precip_2017 &lt;- wnv_precip %&gt;% \n  filter(year == 2017)\n\n\n\n\nCode\n# Plot the graph for 2017\nggplot(wnv_precip_2017, aes(x = week, group = year)) +\n  geom_line(aes(y = avg_weekly_prcp, color = \"Rainfall\"), size = 1) +\n  geom_line(aes(y = reported_positive_cases, color = \"WNV Cases\"), size = 1) +\n  labs(\n    x = \"Week\",\n    y = \"Values\",\n    title = \"Weekly Rainfall and West Nile Virus Cases in 2017\",\n    color = \"Legend\"\n  ) +\n  scale_color_manual(values = c(\"Rainfall\" = \"navy\", \"WNV Cases\" = \"firebrick\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis zoomed in graph of 2017 shows the slight spike in precipitation at the beginning of the year.\n2. Autocorrelation of WNV Cases\nComputed the autocorrelation function (ACF) to determine if WNV cases exhibit temporal dependencies.\n\n\nCode\nacf(wnv_precip$reported_positive_cases, na.action = na.pass, main = \"ACF of WNV Cases\")\n\n\n\n\n\n\n\n\n\nExplanation of Graph\nI wanted to include an autocorrelation graph in this analysis because WNV is spread by vectors, and because WNV cases tend to spite in the summer and fall months. The spikes on the far left of this graph are consistent with what would be expected of a virus with seasonal spikes. This graph shows that WNV cases are often reported within a few weeks of each other, particularly within 5 weeks. These results are as-expected.\n\n\nCode\n# Fit a linear model between rainfall and WNV cases\nrain_case_model &lt;- lm(reported_positive_cases ~ avg_weekly_prcp, data = wnv_precip)\n\n# Summary of the model to check coefficients and significance\nsummary(rain_case_model)\n\n\n\nCall:\nlm(formula = reported_positive_cases ~ avg_weekly_prcp, data = wnv_precip)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-2.411 -2.411 -2.395 -1.383 37.589 \n\nCoefficients:\n                Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)       2.4113     0.2507   9.618   &lt;2e-16 ***\navg_weekly_prcp  -1.3915     1.2687  -1.097    0.273    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.633 on 547 degrees of freedom\n  (35 observations deleted due to missingness)\nMultiple R-squared:  0.002194,  Adjusted R-squared:  0.0003703 \nF-statistic: 1.203 on 1 and 547 DF,  p-value: 0.2732\n\n\nSummary Analysis\nWe can see that according to our p-value (p = 0.2732), these results are not significant and that, in this case, precipitation is not a significant predictor of WNV cases. Our intercept is 2.4113 which means that when there is no rainfall, the model predicts about 2.41 reported WNV cases. Unexpectedly, with our avg_weekly_prcp coefficient being -1.3915, this model would predict that for each inch of rainfall there would be -1.3915 cases of WNV. The Multiple R-squared (0.002194) also supports these results being insignificant, as it describes only 0.22% of WNV case variation could be explained by precipitation.\n\n\nCode\n# Calculate the correlation between rainfall and WNV cases\ncorrelation &lt;- cor(wnv_precip$avg_weekly_prcp, wnv_precip$reported_positive_cases, use = \"complete.obs\")\nprint(paste(\"Correlation between rainfall and WNV cases:\", correlation))\n\n\n[1] \"Correlation between rainfall and WNV cases: -0.0468444447379296\"\n\n\nThis correlation (-0.0468) is consistent with our previous findings that rainfall would have a negative correlation with WNV cases.\n\n\nCode\n# Visualize the relationship with the regression line\nggplot(wnv_precip, aes(x = avg_weekly_prcp, y = reported_positive_cases)) +\n  geom_point(color = \"firebrick\") + \n  geom_smooth(method = \"glm\", color = \"navy\", se = FALSE) +\n  labs(\n    title = \"Relationship Between Rainfall and West Nile Virus Cases\",\n    x = \"Average Weekly Rainfall (inches)\",\n    y = \"Reported Positive WNV Cases\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\nSo far, the analysis has shown unexpected results that are inconsistent with the results from prior research, except for the autocorrelation function. I thought lagging the rainfall variable may show results more consistent with the papers.\n1. Lagged Variables\nCreated a lagged rainfall variable to explore delayed effects of precipitation on WNV cases.\n\n\nCode\nwnv_precip &lt;- wnv_precip %&gt;% \n  mutate(lag_prcp_4weeks = lag(avg_weekly_prcp, 4))\n\n\n2. Correlation Analysis\nExamined the correlation between rainfall 4 weeks prior and WNV cases.\n\n\nCode\ncorrelation &lt;- cor(wnv_precip$lag_prcp_4weeks, wnv_precip$reported_positive_cases, use = \"complete.obs\")\nprint(paste(\"Correlation between rainfall 4 weeks ago and WNV cases:\", correlation))\n\n\n[1] \"Correlation between rainfall 4 weeks ago and WNV cases: -0.0669666699724962\"\n\n\n3. Regression Analysis\nFitted a linear model to quantify the relationship between lagged rainfall and WNV cases.\n\n\nCode\nmodel &lt;- lm(reported_positive_cases ~ lag_prcp_4weeks, data = wnv_precip)\nsummary(model)\n\n\n\nCall:\nlm(formula = reported_positive_cases ~ lag_prcp_4weeks, data = wnv_precip)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-2.460 -2.460 -2.436 -1.199 37.540 \n\nCoefficients:\n                Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)       2.4597     0.2579   9.536   &lt;2e-16 ***\nlag_prcp_4weeks  -2.0339     1.3005  -1.564    0.118    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.773 on 543 degrees of freedom\n  (39 observations deleted due to missingness)\nMultiple R-squared:  0.004485,  Adjusted R-squared:  0.002651 \nF-statistic: 2.446 on 1 and 543 DF,  p-value: 0.1184\n\n\nIn a very generous sense, using the lagged variable did show results that were slightly more like those in the research paper. However, the results are still completely different. With the lagged variable, the p-value is still not significant (p = 0.1184). The coefficient for the intercept did go up slightly, with the difference being 0.0484. Our lag_prcp_4weeks coefficient being -2.0339 means that for every inch of rain in the past 4 weeks, there would be -2.03 WNV cases. Lastly, we can see only about 0.45% of the variability in reported WNV cases can be explained by lagged precipitation.\n4. Visualization of Regression\nVisualized the relationship between lagged rainfall and WNV cases.\n\n\nCode\nggplot(wnv_precip, aes(x = lag_prcp_4weeks, y = reported_positive_cases)) +\n  geom_point() +\n  geom_smooth(method = \"glm\", color = \"navy\", se = FALSE) +\n  labs(\n    title = \"Relationship Between Rainfall (4 Weeks Ago) and WNV Cases\",\n    x = \"Average Weekly Rainfall (4 Weeks Ago)\",\n    y = \"Reported Positive WNV Cases\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nContrary to initial expectations, the data failed to demonstrate a statistically significant relationship between rainfall and West Nile Virus cases. The negative correlation and elevated p-values suggest that precipitation alone may not be a reliable predictor of virus transmission in Los Angeles County. In this analysis, I have failed to reject the null hypothesis.\nThere are several reasons that could account for these surprising results.\n\nSmall sample size I was only looking at cases in LA County, both of the studies I referenced earlier had much larger samples to analyze.\nLack of precipitation LA County is a notoriously sunny area, it tends to get very little precipitation year round.\nThere is an omitted variable bias. A stronger correlation to temperature Again, referencing back to the studies mentioned earlier, both showed more of a relationship between temperature and the number of reported cases than precipitation. My analysis omitted these variables because the Arcadia data set I used only had data about precipitation.\n\nReferences\nCalifornia Department of Public Health (CDPH). (2017, April 28). CDPH confirms first human West Nile virus illness of 2017 (No. 17-043). California Department of Public Health. https://www.cdph.ca.gov/Programs/OPA/Pages/NR17-043.aspx\nCenters for Disease Control and Prevention. (2024, May 15). About West Nile virus. Centers for Disease Control and Prevention. https://www.cdc.gov/west-nile-virus/about/index.html\nLos Angeles County Department of Public Health (LACDPH). (2018, May 1). West Nile virus and other arboviral diseases: 2017 Los Angeles County Epidemiology Final Report. Los Angeles County Department of Public Health. https://publichealth.lacounty.gov/acd/docs/Arbo2017.pdf\nShand, L., Brown, W. M., Chaves, L. F., Goldberg, T. L., Hamer, G. L., Haramis, L., Kitron, U., Walker, E. D., & Ruiz, M. O. (2016). Predicting West Nile virus infection risk from the synergistic effects of rainfall and temperature. Journal of Medical Entomology, 53(4), 1–10. https://doi.org/10.1093/jme/tjw042\nSoverow, J. E., Wellenius, G. A., Fisman, D. N., & Mittleman, M. A. (2009). Infectious disease in a warming world: How weather influenced West Nile Virus in the United States (2001–2005). Environmental Health Perspectives, 117(7), 1049–1052. https://doi.org/10.1289/ehp.0800487"
  },
  {
    "objectID": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html#west-nile-cases-in-california-is-recent-rain-or-old-rain-a-better-predictor",
    "href": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html#west-nile-cases-in-california-is-recent-rain-or-old-rain-a-better-predictor",
    "title": "Analyzing the Relationship Between Rainfall and West Nile Virus Cases in LA County",
    "section": "",
    "text": "Code\n# Load in libraries\nlibrary(tidyverse)\nlibrary(here)\nlibrary(dplyr)\nlibrary(janitor)\nlibrary(lubridate)\n\n\n\n\nCode\n# Read in data\nwnv_cases &lt;- read_csv(here('blog_posts', '2024-13-2024-WNV_cases_in_LA', 'data', 'vendor.csv'))\narcadia &lt;- read_csv(here('blog_posts', '2024-13-2024-WNV_cases_in_LA', 'data', '3862608.csv'))"
  },
  {
    "objectID": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html#data-cleaning-and-preparation",
    "href": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html#data-cleaning-and-preparation",
    "title": "Analyzing the Relationship Between Rainfall and West Nile Virus Cases in LA County",
    "section": "",
    "text": "Renaming Columns: Standardized column names for easier manipulation.\n\n\nCode\nwnv_cases &lt;- wnv_cases %&gt;% \n  rename(\n    year = 'Year', \n    week = 'Week', \n    county = 'County', \n    reported_positive_cases = 'Reported Positive Cases'\n  )\n\n\nFiltering Data: Focused analysis on Los Angeles County (2013–2023).\n\n\nCode\n# Filter for years and county\nwnv_cases_la &lt;- wnv_cases %&gt;% \n  filter(county == \"Los Angeles\", year &gt;= 2013, year &lt;= 2023)\n\n\n\n\n\nDate Processing: Extracted year and week number from daily rainfall data.\n\n\nCode\n# Extract week number \narcadia &lt;- arcadia %&gt;%\n  mutate(week = isoweek(DATE), year = year(DATE))\n\n\nWeekly Averages: Calculated average rainfall for each week.\n\n\nCode\n# Calculate average rainfall for week\narcadia_avg &lt;- arcadia %&gt;% \n  group_by(year, week) %&gt;% \n  summarize(avg_weekly_prcp = mean(PRCP, na.rm = TRUE))\n\n\n\n\n\n\nMerged rainfall and WNV cases data by year and week.\nMissing weeks in the WNV dataset were filled with 0 cases, assuming no cases were reported in those weeks.\n\n\n\nCode\n# Merge rainfall and WNV cases by year and week and make missing weeks 0\nwnv_precip &lt;- full_join(wnv_cases_la, arcadia_avg, by = c(\"year\", \"week\")) %&gt;% \n  mutate(\n    reported_positive_cases = replace_na(reported_positive_cases, 0),\n    county = replace_na(county, \"Los Angeles\")\n  )"
  },
  {
    "objectID": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html#exploratory-data-analysis",
    "href": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html#exploratory-data-analysis",
    "title": "Analyzing the Relationship Between Rainfall and West Nile Virus Cases in LA County",
    "section": "",
    "text": "Code\nggplot(wnv_cases_la, aes(x = week, y = reported_positive_cases)) +\n  geom_smooth(method = \"lm\", color = \"navy\", se = FALSE) + \n  geom_point(color = \"firebrick\") +\n  theme_minimal() +\n  labs(\n    title = \"Reported West Nile Virus Cases by Week in Los Angeles County\",\n    x = \"Week of the Year\",\n    y = \"Number of Reported Cases\"\n  )\n\n\n\n\n\n\n\n\n\nExplanation Of Graph\nThis graph shows the number of reported cases of WNV throughout the ten year period. There was a spike in WNV cases in 2017 in LA County with 268 infections (up from 153 in 2016) and 27 deaths (up from 6 in 2016)(LACDPH, 2018). Before 2017, 2015 had been the most fatal year for WNV with 24 deaths (). The spike in cases happened in October, 2017 and with the most cases being reported week 41 (7. Oct - 13. Oct).\n1. Trends in Rainfall and WNV Cases\nVisualized weekly rainfall and WNV cases over time, grouped by year.\n\n\nCode\nggplot(wnv_precip, aes(x = week, group = year)) +\n  geom_line(aes(y = avg_weekly_prcp, color = \"Rainfall\"), size = 1) +\n  geom_line(aes(y = reported_positive_cases, color = \"WNV Cases\"), size = 1) +\n  facet_wrap(~ year) +\n  labs(\n    x = \"Week\",\n    y = \"Values\",\n    title = \"Weekly Rainfall and West Nile Virus Cases\",\n    color = \"Legend\"\n  ) +\n  scale_color_manual(values = c(\"Rainfall\" = \"navy\", \"WNV Cases\" = \"firebrick\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nExplanation Of Graph\nThis graph shows the amount of rainfall and the number of WNV cases per year. These graphs also show the spike in cases in 2017. Some experts attributed this spike in cases to an unusually wet winter (CDPH, 2017).\n\n\nCode\n# Filter the data for 2017\nwnv_precip_2017 &lt;- wnv_precip %&gt;% \n  filter(year == 2017)\n\n\n\n\nCode\n# Plot the graph for 2017\nggplot(wnv_precip_2017, aes(x = week, group = year)) +\n  geom_line(aes(y = avg_weekly_prcp, color = \"Rainfall\"), size = 1) +\n  geom_line(aes(y = reported_positive_cases, color = \"WNV Cases\"), size = 1) +\n  labs(\n    x = \"Week\",\n    y = \"Values\",\n    title = \"Weekly Rainfall and West Nile Virus Cases in 2017\",\n    color = \"Legend\"\n  ) +\n  scale_color_manual(values = c(\"Rainfall\" = \"navy\", \"WNV Cases\" = \"firebrick\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis zoomed in graph of 2017 shows the slight spike in precipitation at the beginning of the year.\n2. Autocorrelation of WNV Cases\nComputed the autocorrelation function (ACF) to determine if WNV cases exhibit temporal dependencies.\n\n\nCode\nacf(wnv_precip$reported_positive_cases, na.action = na.pass, main = \"ACF of WNV Cases\")\n\n\n\n\n\n\n\n\n\nExplanation of Graph\nI wanted to include an autocorrelation graph in this analysis because WNV is spread by vectors, and because WNV cases tend to spite in the summer and fall months. The spikes on the far left of this graph are consistent with what would be expected of a virus with seasonal spikes. This graph shows that WNV cases are often reported within a few weeks of each other, particularly within 5 weeks. These results are as-expected.\n\n\nCode\n# Fit a linear model between rainfall and WNV cases\nrain_case_model &lt;- lm(reported_positive_cases ~ avg_weekly_prcp, data = wnv_precip)\n\n# Summary of the model to check coefficients and significance\nsummary(rain_case_model)\n\n\n\nCall:\nlm(formula = reported_positive_cases ~ avg_weekly_prcp, data = wnv_precip)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-2.411 -2.411 -2.395 -1.383 37.589 \n\nCoefficients:\n                Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)       2.4113     0.2507   9.618   &lt;2e-16 ***\navg_weekly_prcp  -1.3915     1.2687  -1.097    0.273    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.633 on 547 degrees of freedom\n  (35 observations deleted due to missingness)\nMultiple R-squared:  0.002194,  Adjusted R-squared:  0.0003703 \nF-statistic: 1.203 on 1 and 547 DF,  p-value: 0.2732\n\n\nSummary Analysis\nWe can see that according to our p-value (p = 0.2732), these results are not significant and that, in this case, precipitation is not a significant predictor of WNV cases. Our intercept is 2.4113 which means that when there is no rainfall, the model predicts about 2.41 reported WNV cases. Unexpectedly, with our avg_weekly_prcp coefficient being -1.3915, this model would predict that for each inch of rainfall there would be -1.3915 cases of WNV. The Multiple R-squared (0.002194) also supports these results being insignificant, as it describes only 0.22% of WNV case variation could be explained by precipitation.\n\n\nCode\n# Calculate the correlation between rainfall and WNV cases\ncorrelation &lt;- cor(wnv_precip$avg_weekly_prcp, wnv_precip$reported_positive_cases, use = \"complete.obs\")\nprint(paste(\"Correlation between rainfall and WNV cases:\", correlation))\n\n\n[1] \"Correlation between rainfall and WNV cases: -0.0468444447379296\"\n\n\nThis correlation (-0.0468) is consistent with our previous findings that rainfall would have a negative correlation with WNV cases.\n\n\nCode\n# Visualize the relationship with the regression line\nggplot(wnv_precip, aes(x = avg_weekly_prcp, y = reported_positive_cases)) +\n  geom_point(color = \"firebrick\") + \n  geom_smooth(method = \"glm\", color = \"navy\", se = FALSE) +\n  labs(\n    title = \"Relationship Between Rainfall and West Nile Virus Cases\",\n    x = \"Average Weekly Rainfall (inches)\",\n    y = \"Reported Positive WNV Cases\"\n  ) +\n  theme_minimal()"
  },
  {
    "objectID": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html#modeling-the-relationship-between-rainfall-and-wnv-cases",
    "href": "blog_posts/2024-13-2024-WNV_cases_in_LA/la_wnv_analysis.html#modeling-the-relationship-between-rainfall-and-wnv-cases",
    "title": "Analyzing the Relationship Between Rainfall and West Nile Virus Cases in LA County",
    "section": "",
    "text": "So far, the analysis has shown unexpected results that are inconsistent with the results from prior research, except for the autocorrelation function. I thought lagging the rainfall variable may show results more consistent with the papers.\n1. Lagged Variables\nCreated a lagged rainfall variable to explore delayed effects of precipitation on WNV cases.\n\n\nCode\nwnv_precip &lt;- wnv_precip %&gt;% \n  mutate(lag_prcp_4weeks = lag(avg_weekly_prcp, 4))\n\n\n2. Correlation Analysis\nExamined the correlation between rainfall 4 weeks prior and WNV cases.\n\n\nCode\ncorrelation &lt;- cor(wnv_precip$lag_prcp_4weeks, wnv_precip$reported_positive_cases, use = \"complete.obs\")\nprint(paste(\"Correlation between rainfall 4 weeks ago and WNV cases:\", correlation))\n\n\n[1] \"Correlation between rainfall 4 weeks ago and WNV cases: -0.0669666699724962\"\n\n\n3. Regression Analysis\nFitted a linear model to quantify the relationship between lagged rainfall and WNV cases.\n\n\nCode\nmodel &lt;- lm(reported_positive_cases ~ lag_prcp_4weeks, data = wnv_precip)\nsummary(model)\n\n\n\nCall:\nlm(formula = reported_positive_cases ~ lag_prcp_4weeks, data = wnv_precip)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-2.460 -2.460 -2.436 -1.199 37.540 \n\nCoefficients:\n                Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)       2.4597     0.2579   9.536   &lt;2e-16 ***\nlag_prcp_4weeks  -2.0339     1.3005  -1.564    0.118    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.773 on 543 degrees of freedom\n  (39 observations deleted due to missingness)\nMultiple R-squared:  0.004485,  Adjusted R-squared:  0.002651 \nF-statistic: 2.446 on 1 and 543 DF,  p-value: 0.1184\n\n\nIn a very generous sense, using the lagged variable did show results that were slightly more like those in the research paper. However, the results are still completely different. With the lagged variable, the p-value is still not significant (p = 0.1184). The coefficient for the intercept did go up slightly, with the difference being 0.0484. Our lag_prcp_4weeks coefficient being -2.0339 means that for every inch of rain in the past 4 weeks, there would be -2.03 WNV cases. Lastly, we can see only about 0.45% of the variability in reported WNV cases can be explained by lagged precipitation.\n4. Visualization of Regression\nVisualized the relationship between lagged rainfall and WNV cases.\n\n\nCode\nggplot(wnv_precip, aes(x = lag_prcp_4weeks, y = reported_positive_cases)) +\n  geom_point() +\n  geom_smooth(method = \"glm\", color = \"navy\", se = FALSE) +\n  labs(\n    title = \"Relationship Between Rainfall (4 Weeks Ago) and WNV Cases\",\n    x = \"Average Weekly Rainfall (4 Weeks Ago)\",\n    y = \"Reported Positive WNV Cases\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nContrary to initial expectations, the data failed to demonstrate a statistically significant relationship between rainfall and West Nile Virus cases. The negative correlation and elevated p-values suggest that precipitation alone may not be a reliable predictor of virus transmission in Los Angeles County. In this analysis, I have failed to reject the null hypothesis.\nThere are several reasons that could account for these surprising results.\n\nSmall sample size I was only looking at cases in LA County, both of the studies I referenced earlier had much larger samples to analyze.\nLack of precipitation LA County is a notoriously sunny area, it tends to get very little precipitation year round.\nThere is an omitted variable bias. A stronger correlation to temperature Again, referencing back to the studies mentioned earlier, both showed more of a relationship between temperature and the number of reported cases than precipitation. My analysis omitted these variables because the Arcadia data set I used only had data about precipitation.\n\nReferences\nCalifornia Department of Public Health (CDPH). (2017, April 28). CDPH confirms first human West Nile virus illness of 2017 (No. 17-043). California Department of Public Health. https://www.cdph.ca.gov/Programs/OPA/Pages/NR17-043.aspx\nCenters for Disease Control and Prevention. (2024, May 15). About West Nile virus. Centers for Disease Control and Prevention. https://www.cdc.gov/west-nile-virus/about/index.html\nLos Angeles County Department of Public Health (LACDPH). (2018, May 1). West Nile virus and other arboviral diseases: 2017 Los Angeles County Epidemiology Final Report. Los Angeles County Department of Public Health. https://publichealth.lacounty.gov/acd/docs/Arbo2017.pdf\nShand, L., Brown, W. M., Chaves, L. F., Goldberg, T. L., Hamer, G. L., Haramis, L., Kitron, U., Walker, E. D., & Ruiz, M. O. (2016). Predicting West Nile virus infection risk from the synergistic effects of rainfall and temperature. Journal of Medical Entomology, 53(4), 1–10. https://doi.org/10.1093/jme/tjw042\nSoverow, J. E., Wellenius, G. A., Fisman, D. N., & Mittleman, M. A. (2009). Infectious disease in a warming world: How weather influenced West Nile Virus in the United States (2001–2005). Environmental Health Perspectives, 117(7), 1049–1052. https://doi.org/10.1289/ehp.0800487"
  },
  {
    "objectID": "blog_posts/2024-10-2024-my-first-post/index.html",
    "href": "blog_posts/2024-10-2024-my-first-post/index.html",
    "title": "blog post title",
    "section": "",
    "text": "I am going to insert a footnote here1\nHeres my next paragraph2"
  },
  {
    "objectID": "blog_posts/2024-10-2024-my-first-post/index.html#this-is-my-first-section",
    "href": "blog_posts/2024-10-2024-my-first-post/index.html#this-is-my-first-section",
    "title": "blog post title",
    "section": "",
    "text": "I am going to insert a footnote here1\nHeres my next paragraph2"
  },
  {
    "objectID": "blog_posts/2024-10-2024-my-first-post/index.html#this-is-my-second",
    "href": "blog_posts/2024-10-2024-my-first-post/index.html#this-is-my-second",
    "title": "blog post title",
    "section": "This is my second",
    "text": "This is my second\nim citing [1]\nblah blah blah trying to cite a journal"
  },
  {
    "objectID": "blog_posts/2024-10-2024-my-first-post/index.html#footnotes",
    "href": "blog_posts/2024-10-2024-my-first-post/index.html#footnotes",
    "title": "blog post title",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nPronghorn footnote↩︎\nhere is my second footnote↩︎"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html",
    "href": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html",
    "title": "The Great Thomas Fire Analysis: A Tour Of Functions",
    "section": "",
    "text": "Github\nHave you ever dreamed of analyzing a wildfire all by yourself using Python and a handful of functions? Well if you have, today is your lucky day! The goal of this blog post is to give a quick guide on how to do just that so you can make your dream come true or live vicariously through me. First, let’s go over some background on the Thomas Fire that impacted Santa Barbara and the surrounding areas.\nI am going to be doing this in two parts. In the first part, I will be making a graph to visualize how the fire impacted air quality or the AQI. For the second part, I am going to be using false color imagery to get a better picture, or just a picture at least, of the impact the fire had on vegetation in the area. As I mentioned earlier, this post is going to highlight the functions I am going to use,\nAnd the functions are…\n\nConcat()\nRolling()\nTo_file()\nSqueeze()\nImshow()\n\nThroughout this analysis, I will highlight the places where I used the functions, mention the library they are from, and explain, roughly, what they do. In addition to the functions, I will be highlighting the overall skills I will use in each section.\n\n\nThe Thomas Fire was an extremely large wildfire that burned 378,000 acres from December 4th, 2017 to January 12th, 2018. At the time, it was considered the largest wildlife in modern California history. The fire caused massive destruction both from the flames and the subsequent mudslides. It was truly devastating. Hopefully, in learning to do this analysis we can help in finding new ways to mitigate and respond to these disasters.\n\n\n\nI am going to be using three data sets. Each data set should be openly available to use. I will talk more about the data in the sections where I use it."
  },
  {
    "objectID": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#a-sweeping-explanation-of-data-cleaning",
    "href": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#a-sweeping-explanation-of-data-cleaning",
    "title": "The Great Thomas Fire Analysis: A Tour Of Functions",
    "section": "A Sweeping Explanation of Data Cleaning",
    "text": "A Sweeping Explanation of Data Cleaning\nWhen starting a project, I am often struck by how much I do not like the format the data is in. This is something every young data scientist and coder must experience and develop on their own. We all must find a format that calls to us and spend the rest of our coding lives cleaning every data set we get until it is in that format. My personal favorite is lower snake case. It makes sense to me because we say lines of text are like strings, and snakes are the most string-like animals in my opinion.\n\n# Combine the two data sets using pd.concat\naqi = pd.concat([aqi_17, aqi_18], ignore_index=True)\n\n# Format column names into lower snake case\naqi.columns = (aqi.columns\n                  .str.lower()\n                  .str.replace(' ','_')\n                )\n\n# Select the data from Santa Barbara County\naqi_sb = aqi[(aqi['county_name'] == 'Santa Barbara')]\n\n# Select columns of interest\naqi_sb = aqi_sb[['date', 'aqi', 'category', 'defining_parameter', 'defining_site', 'number_of_sites_reporting']]"
  },
  {
    "objectID": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#setting-the-index-as-the-date",
    "href": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#setting-the-index-as-the-date",
    "title": "The Great Thomas Fire Analysis: A Tour Of Functions",
    "section": "Setting the Index As the Date",
    "text": "Setting the Index As the Date\nThe data is being analyzed over time, and setting the date as the index allows for more convenient handling of time-based operations. By changing the index, I am making sure that I and the computer are on the same page beside the webpage.\n\n# Update the `date` column to be datetime object\naqi_sb.date = pd.to_datetime(aqi_sb['date'])\n\n# Update the index to be the `date` column\naqi_sb = aqi_sb.set_index('date')"
  },
  {
    "objectID": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#averaging-the-aqi-over-time",
    "href": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#averaging-the-aqi-over-time",
    "title": "The Great Thomas Fire Analysis: A Tour Of Functions",
    "section": "Averaging The AQI Over Time",
    "text": "Averaging The AQI Over Time\nIn order to be able to see the impact of the fire on air quality, we need to know what the air quality was before.\n\nThe rolling() function\nHere we are using a function called rolling(). What this function does is show how averages change over time. They call them rolling window calculations because they calculate over a “window” of time, and since time is moving the function must be moving too so we say it’s “rolling.” In the code, you may notice we put ‘5D’ in the parathesis, this is specifying what I want the window of time to be. Here I do 5D because I want it to be five days.\n\n\nPlot\nThe result of this analysis is a plot. In regards to AQI, the higher the value, the worse the air quality. There is a spike where December is, which is what I expected because that is when the fire was\n\n# Calculate AQI rolling average over 5 days\nrolling_average = aqi_sb['aqi'].rolling('5D').mean()\n\n# Add mean of AQI over the 5-day rolling window as a new column\naqi_sb['five_day_average'] = rolling_average\n\n# Create a plot of the 5-day rolling average AQI and the daily average AQI\naqi_sb[['aqi', 'five_day_average']].plot(kind='line',\n                                         legend = ['Daily AQI', 'Five Day Average AQI'],\n                                         title=' Daily and 5-day Average AQI In Santa Barbara County', \n                                         ylabel='AQI', \n                                         xlabel='Date',\n                                        )"
  },
  {
    "objectID": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#dropping-bands",
    "href": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#dropping-bands",
    "title": "The Great Thomas Fire Analysis: A Tour Of Functions",
    "section": "Dropping bands",
    "text": "Dropping bands\nI am now going to be working with my Landsat data. I can see when I print the data set that it has an extra band that will not be necessary in this analysis.\n\nThe Squeeze() Function\nThe squeeze() function is from the Numpy library and allows us to get rid of any dimensions with the size of 1. This keeps the data from taking up too much space. It will also help me remove the band so I can replace it with my own band.\n\n# Print to get a general overview of the landsat data\nprint(landsat)\n\n# Remove extra dimensions\nlandsat = landsat.squeeze()\n\n# Drop 'band'\nlandsat = landsat.drop_vars('band')\n\n&lt;xarray.Dataset&gt; Size: 25MB\nDimensions:      (band: 1, x: 870, y: 731)\nCoordinates:\n  * band         (band) int64 8B 1\n  * x            (x) float64 7kB 1.213e+05 1.216e+05 ... 3.557e+05 3.559e+05\n  * y            (y) float64 6kB 3.952e+06 3.952e+06 ... 3.756e+06 3.755e+06\n    spatial_ref  int64 8B 0\nData variables:\n    red          (band, y, x) float64 5MB ...\n    green        (band, y, x) float64 5MB ...\n    blue         (band, y, x) float64 5MB ...\n    nir08        (band, y, x) float64 5MB ...\n    swir22       (band, y, x) float64 5MB ...\n\n\n\n\nPlotting the True Color Image\nThis is where I have replaced the band I dropped earlier with red, green, and blue.\n\n\nThe imshow(robust = True) Function\nThe imshow() function comes from the xarray library and works with a function of the same name from the matplotlib.pyplot. This is a function that shows a 2-D picture. Incorporating the the xarray library makes it extra useful here because I can use the (robust = True) argument to ignore any outlier colors, which creates a more realistic-looking picture.\n\n# Select 'red' 'green' and 'blue' bands\n# Convert to a NumPy array using .to_array()\nlandsat[['red', 'green', 'blue']].to_array().plot.imshow(robust=True)\n\n\n\n\n\n\n\n\n\n\nPlotting The False Color Image\nI used SWIR, NIR, and Green because they can be especially helpful when looking at fires as they show healthy vegetation as bright green.\nEven without the fire perimeter overlayed, it is easy to tell where the fire was based on this false color image. The areas in red are the areas that were burning.\n\n# Select SWIR, NIR, and Red bands and plot false color image\nlandsat[['swir22', 'nir08', 'red']].to_array().plot.imshow(robust=True)"
  },
  {
    "objectID": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#mapping-the-perimeter-and-false-color-image",
    "href": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#mapping-the-perimeter-and-false-color-image",
    "title": "The Great Thomas Fire Analysis: A Tour Of Functions",
    "section": "Mapping the Perimeter and false color image",
    "text": "Mapping the Perimeter and false color image\n\n# Check if thomas_fire and Landsat have matching CRSs\nprint(\"Landsat CRS:\", landsat.rio.crs)\nprint(\"Thomas Fire CRS:\", thomas_fire.crs)\n\n# Reproject thomas_fire to match the CRS of the landsat data if they do not match\nif thomas_fire.crs != landsat.rio.crs:\n    thomas_fire = thomas_fire.to_crs(landsat.rio.crs)\n\nLandsat CRS: EPSG:32611\nThomas Fire CRS: EPSG:3857\n\n\n\nThe Final Map:\n\n# Plot False Color Image\nfig, ax = plt.subplots(figsize=(10, 10))\nlandsat[['swir22', 'nir08', 'red']].to_array().plot.imshow(ax=ax, \n                                                           robust=True, \n                                                           alpha=0.8)\n\n# Plot Thomas Fire perimeter\nthomas_fire.plot(ax=ax, \n                       edgecolor='maroon', \n                       facecolor='none', \n                       linewidth=2)\n\n# Create a custom legend\nfire_legend = mpatches.Patch(edgecolor='maroon', \n                             facecolor='none', \n                             label=\"Thomas Fire Perimeter\")\n\n# Add legend manually\nax.legend(handles=[fire_legend], \n          loc=\"upper right\", \n          fontsize=12)\n\n# Label the map\nax.set_title(\"False Color Image of the 2017 Thomas Fire Perimeter In Santa Barbara County\", fontsize=16)\nax.set_xlabel(\"X Coordinate\")\nax.set_ylabel(\"Y Coordinate\")\n\nplt.show()\n\n\n\n\n\n\n\n\nAnd there you have it. Here is the map with the fire perimeter overlayed. One of the reasons false color imagery can be useful is that it can highlight where vegetation was most affected. We can see that not all the vegetation in the fire perimeter was impacted by the same amount. This can shed light on why fires burn the way they do, which, in turn, can help us with fire management.\nI hope you enjoyed this wordy blog post, and now have a couple more functions under your belt you can use next time you want to analyze a wildfire!"
  },
  {
    "objectID": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#references",
    "href": "blog_posts/2024-12-2-thomas-fire-post/thomas_fire_blog_edit.html#references",
    "title": "The Great Thomas Fire Analysis: A Tour Of Functions",
    "section": "References",
    "text": "References\nAndone, D. (2018, June 2). The largest wildfire in California’s modern history is finally out, more than 6 months after it started. CNN. Retrieved December 2, 2024, from https://www.cnn.com/2018/06/02/us/thomas-fire-officially-out/index.html\nRiebeek, R. (2014, March 4). Why is that Forest Red and that cloud blue? NASA. https://earthobservatory.nasa.gov/features/FalseColor\nU.S. Environmental Protection Agency. (2024, June 20). Particulate matter (PM) basics. EPA. Retrieved December 2, 2024, from https://www.epa.gov/pm-pollution/particulate-matter-pm-basics"
  },
  {
    "objectID": "blog_posts.html",
    "href": "blog_posts.html",
    "title": "Blog",
    "section": "",
    "text": "Analyzing the Relationship Between Rainfall and West Nile Virus Cases in LA County\n\n\n\n\n\n\nAmanda Overbye\n\n\nDec 13, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nThe Great Thomas Fire Analysis: A Tour Of Functions\n\n\n\nPython\n\n\nMEDS\n\n\nGeospatial\n\n\nWildfire\n\n\n\nAnalyzing the Impact Of the Thomas Fire Using a Handful Of Functions\n\n\n\nAmanda G. Overbye\n\n\nDec 4, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nblog post title\n\n\n\nQuarto\n\n\nMEDS\n\n\ntest-post\n\n\n\nA short catchy description of a blog post\n\n\n\nAmanda Overbye\n\n\nOct 18, 2024\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Amanda Overbye",
    "section": "",
    "text": "Amanda hopes to develop the connection between gathering the data and sharing it through the MEDS program at the Bren School of Environmental Science & Management. She is especially drawn to data processing and visualization. Her research interests are the long-term impacts of climate change and human development on terrestrial mammalian movement and migration. Amanda’s goal is to do responsible scientific research that is accessible and understandable to a broad range of audiences."
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Amanda Overbye",
    "section": "Education",
    "text": "Education\ntext"
  },
  {
    "objectID": "index.html#professional-experience",
    "href": "index.html#professional-experience",
    "title": "Amanda Overbye",
    "section": "Professional Experience",
    "text": "Professional Experience"
  }
]